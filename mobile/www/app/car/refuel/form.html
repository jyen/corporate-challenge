<ion-view view-title="Log Refuel" hide-back-button="true">
  <ion-nav-buttons side="left">
    <button menu-toggle="left"class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content>
    <div class="list">
      <label class="item item-input">
        <span class="input-label">Date</span>
        <input style="text-align: right"
               type="datetime-local"
               ng-model="form.refuel.dateTime"/>
      </label>
      <label class="item item-input">
        <span class="input-label">Odometer (Miles)</span>
        <input type="number"
               placeholder="12345"
               ng-model="form.refuel.odometer"/>
      </label>
      <label class="item item-input">
        <span class="input-label">Trip Distance (Miles)</span>
        <input type="number",
               placeholder="300"
               ng-model="form.refuel.tripMiles">
      </label>
      <label class="item item-input">
        <span class="input-label">Price Per Gallon ($)
        </span>
        <input class="refuel-input"
               type="number"
               placeholder="1.999"
               ng-model="form.refuel.price"
               ng-change="form.refuel.cost = form.RefuelUtilService.calculateCost(form.refuel.price, form.refuel.quantity)">
      </label>
      <label class="item item-input">
        <span class="input-label">Quantity (Gallons)</span>
        <input type="number"
               placeholder="12"
               ng-model="form.refuel.quantity"
               ng-change="form.refuel.cost = form.RefuelUtilService.calculateCost(form.refuel.price, form.refuel.quantity)">
      </label>
      <label class="item item-input">
        <span class="input-label">Refuel Cost ($)</span>
        <input type="number"
               placeholder="23.99"
               ng-model="form.refuel.cost">
      </label>
      <ion-checkbox ng-model="form.refuel.partial"> Partial Refuel? </ion-checkbox>

      <div ng-if="'car.refuel-create' | isState">
        <button class="button button-block button-stable"
                ng-click="form.addRefuel(form.carId, form.refuel)">
          Add
        </button>
        <button class="button button-block button-stable"
                ui-sref="car.detail({id: form.carId})">
          Cancel
        </button>
      </div>

      <div ng-if="'car.refuel-edit' | isState">
        <button class="button button-block button-stable"
                ng-click="form.updateRefuel(form.carId, form.refuel._id, form.refuel)">
          Update
        </button>
        <button class="button button-block button-stable"
                ui-sref="'car.refuel-view'">
          Cancel
        </button>
      </div>
    </div>
  </ion-content>
</ion-view>
